<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  // üî¥ PASTE YOUR FIREBASE CONFIG HERE
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT.appspot.com",
    messagingSenderId: "XXXX",
    appId: "XXXX"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  window.saveJobCard = async function() {
    const jobCard = {
      jobNo: job_no.value,
      issuedTo: issued_to.value,
      date: job_date.value,
      trainNo: train_no.value,
      jobType: job_type.value,
      failure: failure_desc.value,
      work: work_details.value,
      sic: sic_required.value,
      createdAt: new Date()
    };

    try {
      await addDoc(collection(db, "jobCards"), jobCard);
      alert("‚úÖ Job Card Saved Successfully (Online)");

      document.querySelectorAll("input, textarea").forEach(e => e.value = "");
    } catch (error) {
      alert("‚ùå Error saving data");
      console.error(error);
    }
  }
</script>
