<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, addDoc } 
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

// üî¥ PASTE YOUR FIREBASE CONFIG HERE
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "XXXX",
  appId: "XXXX"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

document.getElementById("maintenanceForm").addEventListener("submit", async function(e){
  e.preventDefault();

  const data = {
    trainSet: document.getElementById("trainSet").value,
    location: document.getElementById("location").value,
    date: document.getElementById("startDate").value,
    startTime: document.getElementById("startTime").value,
    endTime: document.getElementById("expectedEndTime").value,
    work: document.getElementById("workGoing").value,
    createdAt: new Date()
  };

  try {
    await addDoc(collection(db, "maintenanceData"), data);
    alert("‚úÖ Data Saved Online Successfully");
    this.reset();
  } catch (error) {
    alert("‚ùå Error Saving Data");
    console.error(error);
  }
});
</script>
